<!DOCTYPE html>
<html ng-app="myApp">
  <head>
    <meta charset="UTF-8" />
    <title>anchor</title>
  </head>

  <body></body>
  <script src="../../plug/jquery-3.0.0.min.js"></script>
  <script>
    // function f1() {
    //   var n = 10
    //   nAdd = function () {
    //     n+= 1
    //   }
    //   function f2() {
    //     console.log(n)
    //   }
    //   return f2
    // }
    // var result = f1()
    // result()
    // nAdd()
    // result()
    function GetRequest() {
      var url = location.search //获取url中"?"符后的字串
      var theRequest = {}
      if (url.indexOf('?') != -1) {
        var str = url.substr(1)
        var strs = str.split('&')
        for (var i = 0; i < strs.length; i++) {
          var itemArr = strs[i].split('=')
          var targetValue = decodeURI(itemArr[1])
          if (theRequest[itemArr[0]]) {
            if (typeof theRequest[itemArr[0]] === 'string') {
              theRequest[itemArr[0]] = [theRequest[itemArr[0]], targetValue]
            } else if (Array.isArray(theRequest[itemArr[0]])){
              theRequest[itemArr[0]].push(targetValue)
            }
          } else {
            theRequest[itemArr[0]] = targetValue === 'undefined' ? true : targetValue
          }
        }
        return theRequest
      }
    }
    console.log(GetRequest())
  </script>
</html>
