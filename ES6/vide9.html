<!DOCTYPE html>
<html>
  <head>
    <title>vivo</title>
    <meta charset="utf-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0,maximum-scale=1.0,minimum=1.0,user-scalable=no"
    />
    <meta name="format-detection" content="telephone=no, email=no" />
    <style>
        html,body{
            margin: 0;
            padding: 0;
            height: 100%;
        }
        iframe{
            height: calc(100% - 60px);
        }
    </style>
  </head>

  <body>
    <input type="text" id="box" placeholder="网址"/> <button id="btn">保存网址</button>
    <span id="random"></span><br/>
    <input type="text" id="movSrc"/> <button id="loadMov">加载视频</button>
    <iframe
      width="100%"
      frameborder="0"
      allowfullscreen
      webkitallowfullscreen
      mozallowfullscreen
      oallowfullscreen
      msallowfullscreen
    ></iframe>

    <script type="text/javascript">
      var ifra = document.querySelector('iframe')
      ifra.height = window.innerHeight - 50
      var num = parseInt(Math.random() * 30000)
      document.querySelector('#random').innerHTML = num;
      let id = localStorage.getItem('id')
      // ifra.src = 'https://yaoshe11.com/embed/1' + num;
      ifra.src = `https://yaoshe${id}.com/embed/${num}`

      document.querySelector('#btn').onclick = () => {
        let id = document.querySelector('#box').value
        localStorage.setItem('id', id)
      }
      document.querySelector('#loadMov').onclick = () => {
        const src = document.querySelector('#movSrc').value
        ifra.src = `https://yaoshe${id}.com/embed/${src}`
      }
    </script>
  </body>
</html>
